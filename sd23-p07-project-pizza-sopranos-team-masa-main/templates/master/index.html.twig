{% extends 'base.html.twig' %}

{% block title %}Hello HomeController!{% endblock %}

{% block body %}
    <div class="container-fluid d-flex justify-content-center align-items-stretch flex-row flex-wrap">
        <div class="container-sm col-lg-6 col-md-6 col-sm-7 my-2 d-flex justify-content-start flex-column">
            <h5 class="bg-black text-danger fw-bold align-self-start px-4 py-1 mt-3 rounded">Categories <span><a class="text-decoration-none text-white"
                            href="{{ path('categoryAdd') }}"><i class="bi bi-plus-square-fill"></i></a></span></h5>
            <div class="row align-self-start">
                {% for category in categories %}
                    <div class="col-4 mt-5 mb-3 d-flex justify-content-center flex-wrap">
                        <div class="card shadow-lg " style="max-width: 19rem;">
                            <h4 class="d-flex justify-content-center">{{ category.name }}</h4>
                            <img src="{{ asset(category.img) }}" class=" img-fluid" alt="...">
                            <div class="card-body">
                                <p class="card-text d-flex justify-content-center fs-4"> {{ category.description }} </p>
                                <a href="{{ path('categoryUpdate', { id: category.id }) }}" class="btn btn-primary">Edit</a>
                                <a href="{{ path('categoryDelete', { id: category.id }) }}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this category?');">Delete</a>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        </div>

        <div class="container-sm col-lg-6 col-md-6 col-sm-7 my-2 d-flex justify-content-start flex-column">
            <h5 class="bg-black text-danger fw-bold align-self-start px-4 py-1 mt-3 rounded">Pizzas <span>
                    <a class="text-decoration-none text-white" href="{{ path('pizzaAdd') }}"><i class="bi bi-plus-square-fill"></i></a></span></h5>
            <div class="container-sm bg-white px-0">
                <div class="row d-flex justify-content-start align-items-center flex-row flex-wrap">
                    {% for pizza in pizzas %}
                        <div class="card m-1 px-0 align-self-stretch" style="width:18rem">
                            <img class="card-img-top m-0" src="{{ asset(pizza.img) }}" alt="Card image" style="width:100%">
                            <div class="card-body">
                                <h4 class="card-title">{{ pizza.name }}</h4>
                                <p class="card-text">{{ pizza.description }}</p>
                                <p class="btn btn-primary">category_id => {{ pizza.category_id }}</p>
                                <p class="btn btn-primary">â‚¬{{ pizza.price | number_format(2, ',', '.') }}</p>
                                <a href="{{ path('pizzaUpdate', { id: pizza.id }) }}" class="btn btn-primary">Edit</a>
                                <a href="{{ path('pizzaDelete', { id: pizza.id }) }}" class="btn btn-danger" onclick="return confirm('Are you sure you want to delete this pizza?');">Delete</a>
                            </div>
                        </div>
                    {% endfor %}
                </div>
            </div>
        </div>
    </div>
{% endblock %}